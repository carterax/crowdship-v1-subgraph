specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: Factory
    network: rinkeby
    source:
      address: '0xC9F4D522CF5559A4b41C1FC99737446f70d2A17C'
      abi: Factory
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Factory
      abis:
        - name: Factory
          file: ./abis/Factory.json
      eventHandlers:
        - event: CampaignFactoryDeployed(indexed address,address,address,uint256)
          handler: handleCampaignFactoryDeployed
      file: ./src/mappings/factory.ts
templates:
  - kind: ethereum/contract
    name: CampaignFactory
    network: rinkeby
    source:
      abi: CampaignFactory
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Campaign
        - User
        - Category
        - Token
        - FeaturePackage
      file: ./src/mappings/campaignFactory.ts
      abis:
        - name: CampaignFactory
          file: ./abis/CampaignFactory.json
      eventHandlers:
        - event: FactoryConfigUpdated(address,address,address)
          handler: handleFactoryConfigUpdated
        - event: CategoryCommissionUpdated(indexed uint256,uint256)
          handler: handleCategoryCommissionUpdated
        - event: CampaignDefaultCommissionUpdated(uint256)
          handler: handleCampaignDefaultCommissionUpdated
        - event: CampaignTransactionConfigUpdated(string,uint256)
          handler: handleCampaignTransactionConfigUpdated
        - event: CampaignActiveToggle(indexed uint256,bool,address)
          handler: handleCampaignActiveToggle
        - event: CampaignApproval(indexed uint256,bool,address)
          handler: handleCampaignApproval
        - event: CampaignCategoryChange(indexed uint256,uint256,address)
          handler: handleCampaignCategoryChange
        - event: CampaignDeployed(indexed uint256,address,address,address,uint256,uint256,address)
          handler: handleCampaignDeployed
        - event: CampaignFeaturePaused(indexed uint256,address)
          handler: handleCampaignFeaturePaused
        - event: CampaignFeatureUnpaused(indexed uint256,uint256,address)
          handler: handleCampaignFeatureUnpaused
        - event: CampaignFeatured(indexed uint256,uint256,uint256,address)
          handler: handleCampaignFeatured
        - event: CategoryAdded(indexed uint256,bool,address)
          handler: handleCategoryAdded
        - event: CategoryModified(indexed uint256,bool,address)
          handler: handleCategoryModified
        - event: FeaturePackageAdded(indexed uint256,uint256,uint256,address)
          handler: handleFeaturePackageAdded
        - event: FeaturePackageDestroyed(indexed uint256,address)
          handler: handleFeaturePackageDestroyed
        - event: FeaturePackageModified(indexed uint256,uint256,uint256,address)
          handler: handleFeaturePackageModified
        - event: Paused(address)
          handler: handlePaused
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: TokenAdded(indexed address,address)
          handler: handleTokenAdded
        - event: TokenApproval(indexed address,bool,address)
          handler: handleTokenApproval
        - event: TokenRemoved(indexed uint256,address,address)
          handler: handleTokenRemoved
        - event: Unpaused(address)
          handler: handleUnpaused
        - event: UserAdded(indexed uint256,address)
          handler: handleUserAdded
        - event: UserApproval(indexed uint256,bool,address)
          handler: handleUserApproval
        - event: UserRemoved(indexed uint256,address)
          handler: handleUserRemoved
  - kind: ethereum/contract
    name: Campaign
    network: rinkeby
    source:
      abi: Campaign
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Contribution
        - Withdrawal
        - Reward
        - RewardRecipient
        - Request
        - Vote
        - Review
        - Report
      file: ./src/mappings/campaign.ts
      abis:
        - name: Campaign
          file: ./abis/Campaign.json
      eventHandlers:
        - event: CampaignOwnershipTransferred(indexed address,address,address)
          handler: handleCampaignOwnershipTransferred
        - event: CampaignSettingsUpdated(indexed address,uint256,uint256,uint256,address,address)
          handler: handleCampaignSettingsUpdated
        - event: CampaignDeadlineExtended(indexed address,uint256,address)
          handler: handleCampaignDeadlineExtended
        - event: CampaignReported(indexed address,address)
          handler: handleCampaignReported
        - event: CampaignUserDataTransferred(indexed address,address,address,address)
          handler: handleCampaignUserDataTransferred
        - event: ContributionMade(indexed address,uint256,indexed uint256,bool,address)
          handler: handleContributionMade
        - event: ContributionWithdrawn(indexed address,uint256,address,address)
          handler: handleContributionWithdrawn
        - event: TargetMet(indexed address,uint256,address)
          handler: handleTargetMet
        - event: RequestAdded(indexed uint256,indexed address,uint256,uint256,address,address)
          handler: handleRequestAdded
        - event: RequestVoided(indexed uint256,indexed address,address)
          handler: handleRequestVoided
        - event: RequestComplete(indexed uint256,indexed address,address)
          handler: handleRequestComplete
        - event: Voted(indexed uint256,uint8,indexed address,address)
          handler: handleVoted
        - event: VoteCancelled(indexed uint256,uint8,indexed address,address)
          handler: handleVoteCancelled
        - event: CampaignReviewed(indexed address,address)
          handler: handleCampaignReviewed
        - event: CampaignStateChange(indexed address,uint8,address)
          handler: handleCampaignStateChange
  - kind: ethereum/contract
    name: CampaignRewards
    network: rinkeby
    source:
      abi: CampaignRewards
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Reward
        - RewardRecipient
      file: ./src/mappings/campaignRewards.ts
      abis:
        - name: CampaignRewards
          file: ./abis/CampaignRewards.json
      eventHandlers:
        - event: RewardCreated(indexed uint256,indexed address,uint256,uint256,uint256,bool,address)
          handler: handleRewardCreated
        - event: RewardModified(indexed uint256,indexed address,uint256,uint256,uint256,bool,address)
          handler: handleRewardModified
        - event: RewardStockIncreased(indexed uint256,indexed address,uint256,address)
          handler: handleRewardStockIncreased
        - event: RewardDestroyed(indexed uint256,indexed address,address)
          handler: handleRewardDestroyed
        - event: RewardRecipientAdded(indexed uint256,indexed address,uint256,address)
          handler: handleRewardRecipientAdded
        - event: RewarderApproval(indexed uint256,indexed address,bool,address)
          handler: handleRewarderApproval
        - event: RewardRecipientApproval(indexed uint256,indexed address,address)
          handler: handleRewardRecipientApproval
